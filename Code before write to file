import time
import board
import adafruit_dht
from datetime import datetime
import RPi.GPIO as GPIO

sensor = adafruit_dht.DHT11(board.D16)

print("time, celcius, farenheit")

def to_farenheit(c):
    f = (c*(9/5)) +32
    return f

while True:
    try:
        celcius=sensor.temperature
        farenheit = int(to_farenheit(celcius))
        current_time=datetime.now()
        print ("{0}, {1:0.1f},{2:0.1f}".format(current_time.strftime("%H:%M:%S"), celcius, farenheit))

        if farenheit>=73:
            print("hot")
            GPIO.setup(25, GPIO.OUT)
            GPIO.output(25, GPIO.HIGH)
        if farenheit<=71:
            print ("cold")
            GPIO.setup(24, GPIO.OUT)
            GPIO.output(24, GPIO.HIGH)
        
        time.sleep(2.0)
        GPIO.output(25, GPIO.LOW)
        GPIO.output(24, GPIO.LOW)

        time.sleep(3.0)
    except RuntimeError as error:
        print(error.args[0])
        time.sleep(2.0)
        continue
    except KeyboardInterrupt:
        GPIO.cleanup()
    except Exception as error:
        sensor.exit()
        raise error 
